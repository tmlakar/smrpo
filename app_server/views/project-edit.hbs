<div class="hbses">
<div class="row">


    <div class="col-sm-5 ">
        <div class="card account-info" style="background-color: var(--c4) !important;">
            <div class="card-body">
                <h5 class="card-title">Project information</h5>
            <p class="card-text"><span style="color: var(--c2) !important;">Project name:</span>
                    <br>
                    {{name}}

                    </p>
                    <p class="card-text"><span style="color: var(--c2) !important;">Project description:</span>
                    <br>
                    {{info}}
                    </p>

            </div>

        </div>
        <br>


        <div class="card account-info" style="background-color: var(--c4) !important;">
            <div class="card-body">
                <h5 class="card-title">Project collaborators</h5>

                    {{!-- circles collaborators --}}

                    {{#each collaborators as |collaborator|}}
                    {{!-- ce je Team Member se krogec obarva s sivo --}}
                    {{#if (isTeamMember collaborator.project_role)}}
                    <a href="#edit" onclick="location.href='#edit'">
                    <button id="collaborator_circle" type="button" data-toggle="modal" data-target="#modalnoOknoColl" class="btn btn-dark" style="background-color: var(--c6) !important; ">
                    {{firstLetterOfUsername collaborator.username}}
                    </button></a>
                    {{/if}}
                    

                    {{!-- ce je Scrum Master se krogec obarva z modro  --}}
                    {{#if (isScrumMaster collaborator.project_role)}}
                    <a href="#edit" onclick="location.href='#edit'">
                    <button id="collaborator_circle" type="button" data-toggle="modal" data-target="#modalnoOknoColl" class="btn btn-dark" style="background-color: var(--c5) !important; ">
                    {{firstLetterOfUsername collaborator.username}}
                    </button></a>
                    {{/if}}

                    {{!-- ce je Product Manager se krogec obarva s oranzno --}}
                    {{#if (isProductManager collaborator.project_role)}}
                    <a href="#edit" onclick="location.href='#edit'">
                    <button id="collaborator_circle" type="button" data-toggle="modal" data-target="#modalnoOknoColl" class="btn btn-dark" style="background-color: var(--c1) !important; ">
                    {{firstLetterOfUsername collaborator.username}}
                    </button></a>
                    {{/if}}
                    
                    {{!-- modalno okno za spreminjanje nastavitev uporabnika --}}
                    <div class="modal fade" id="modalnoOknoColl" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content modal-content-ekipa"> 
                                <div class="modal-header modal-header-ekipa">
                                <h5 class="modal-title" id="exampleModalLabel" style="padding-top=10px; !important">Edit project collaborator</h5>
                                <button type="button" class="close"  data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                                </div>
                                <div class="modal-body">
                                    <!--form start-->
                                    <!-- Username -->
                                    <div class="mb-3">
                                        <label class="form-label">Username</label>
                                        <div class="row" style="padding: 0px !important">
                                            <div class="col-lg-10"><input class="form-control input-form" style="background-color: rgb(196, 196, 196) !important" name="" value="AnjaBrelih" id="" aria-describedby="emailHelp" readonly></div>
                                        </div>
                                    </div>
                                    <!-- Role -->
                                    <div class="mb-3">
                                        <label class="form-label">Project role</label>
                                        <div class="row" style="padding: 0px !important">
                                            <div class="col-lg-10"><input class="form-control input-form" style="background-color: rgb(196, 196, 196) !important;" name="" value="Å alabajzer" id="" aria-describedby="emailHelp" readonly></div>
                                        </div>
                                    </div>

                                    <!-- New role -->
                                    <div class="mb-3 form-select">
                                    <label class="form-label" style="padding-top: 30px !important">New project role</label>
                                    <input class="form-control input-form" type="text" name="project_role" list="exampleList1" required>
                                        <datalist id="exampleList1">
                                            <option value="Team Member">  </option>
                                            <option value="Product Manager"></option>
                                            <option value="Scrum Master"></option>
                                        </datalist>
                                    </div>
                                    <br><br>
                                    <div style="padding: 10px !important">
                                    <!-- remove collaborator -->
                                    <button type="submit" class="btn submit-form" style="background-color: var(--c5)!important; float: left; !important">Remove</button>
                                    <!-- save changes -->
                                    <button type="submit" class="btn submit-form" style="background-color: var(--c5)!important; float: right; !important">Save changes</button>
                                    </div>
                                    <!--form stop-->
                                </div>
                            </div>
                        </div>
                    </div>

                    {{/each}}
                     
                <a href="#add" onclick="location.href='#add'"><button id="ekipa" type="button" data-toggle="modal" data-target="#modalnoOknoEkipa" class="btn btn-dark dodaj-vekipo" style="background-color: var(--c1) !important; border: 3px solid var(--c1) !important"><i class="fa-solid fa-plus dodaj"></i></button></a>


                <!-- Legenda -->
                <br><br>
                <div>
                <button id="collaborator_circle_legend" style="background-color: var(--c6) !important; margin-right: 5px !important;" disabled="True"></button><span style="font-size: 10px !important; padding-right: 20px !important;">Team Member</span>
                <button id="collaborator_circle_legend" style="background-color: var(--c5) !important; margin-right: 5px !important;" disabled="True"></button><span style="font-size: 10px !important; padding-right: 20px !important;">Scrum master</span>
                <button id="collaborator_circle_legend" style="background-color: var(--c1) !important; margin-right: 5px !important;" disabled="True"></button><span style="font-size: 10px !important; padding-right: 20px !important;">Product Manager</span>
                </div>
            </div>

        </div>
    </div>



<div class="col-sm-7">
        <div class="card user-add">
        <div class="card-body">
            <h5 class="card-title">Edit project</h5>

                        <form id="posodobiUporabnika" method="post" style="">
                          <div class="mb-3" style="padding-bottom: 10px !important">
                            <label class="form-label" style="padding-top: 10px !important">Name</label>
                            <input class="form-control input-form" value="{{name}}" name="name" id="name" aria-describedby="emailHelp" required>
                        </div>

                        <div class="mb-3" style="padding-bottom: 10px !important">
                            <label class="form-label" style="padding-top: 10px !important">Project description</label>
                            <textarea class="form-control input-form-lg" name="info" id="info" aria-describedby="emailHelp" required>{{info}}</textarea>
                        </div>

                        {{#if napaka}}
                          <div class="alert alert-warning" id="wrongPass" role="alert" style=" padding-top: 10px; border-radius: 18px; margin-top: 10px !important">
                          <span style="font-size: 14px !important">Project with this name already exists!</span>
                          </div>
                        {{/if}}
                        <div style="padding-top: 10px !important">
                        <button type="submit" class="btn submit-form">Submit</button>
                        </div>
                        </form>
                        </div>

                      </div>
                      <div style="padding-top: 10px !important">
<!--<a href="/projects/{{id}}/add-collaborators"><button type="submit" class="btn submit-form" style="width: 200px !important; margin:5px !important; background-color: var(--c3) !important">Add collaborators</button></a>
<a href="/projects/{{id}}/edit-collaborator-roles"><button type="submit" class="btn submit-form" style="width: 240px !important; margin:5px !important; background-color: var(--c4) !important">Edit collaborator roles</button></a>
<a href="/projects/{{id}}/delete-collaborators"><button type="submit" class="btn submit-form" style="width: 220px !important; margin:5px !important; background-color: var(--c5) !important">Remove collaborators</button></a>-->
</div>
</div>


</div>


<div class="modal fade" id="modalnoOknoEkipa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modal-content-ekipa"> 
            <div class="modal-header modal-header-ekipa">
                <h5 class="modal-title" id="exampleModalLabel" style="padding-top=10px; !important">Add project collaborators</h5>
                <button type="button" class="close"  data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> 
            <div class="modal-body">
                

                {{!-- Anja, tlele ured se mal stile, dodajanje uporabnika deluje 
                iz tega (direkt prek username, ne se da bi izbrau iz seznama) :D --}}

                <form action="/projects/{{id}}/add-collaborators" method="post">
                <div class="mb-3 form-select">
                        <label class="form-label" style="padding-top: 5px !important">Collaborator</label>
                          <input class="form-control input-form" type="text" name="username" list="exampleList" required>
                            <datalist id="exampleList">
                                {{#each users as |user|}}
                            <option value="{{user.username}}"> 
                            </option>
                            {{/each}}
                            </datalist>
                            </div>


                <div class="mb-3 form-select">
                        <label class="form-label" style="padding-top: 30px !important">Project role</label>
                          <input class="form-control input-form" type="text" name="project_role" list="exampleList1" required>
                            <datalist id="exampleList1">
                            <option value="Team Member">  </option>
                            <option value="Product Manager"></option>
                            <option value="Scrum Master"></option>
                            </datalist>
                            </div>
                <div style="padding: 10px !important">
                      <button type="submit" class="btn submit-form" style="background-color: var(--c5)!important; float: right; !important">Save changes</button>
                </div>
                </form>
                

            </div>
        </div>
        <br>
        <div class="modal-content modal-content-ekipa">
            <div class="modal-header modal-header-ekipa">
                <h5 class="modal-title" id="exampleModalLabel">Available collaborators</h5>
            
            
            </div>
        </div>
    </div>
</div>